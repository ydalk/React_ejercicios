{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useReducer } from \"react\";\nimport { todoReducer } from \"../08useReducer/todoReducer\";\nexport const useTodos = initialState => {\n  _s();\n\n  const init = () => {\n    return JSON.parse(localStorage.getItem('todos') || []);\n  }; //si solo hay un reducer se pude dejar solo dispatch, si tengo mas de uno le coloco un nombre representartivo todoDispacth\n  //la funcion init (initializer) inicializa el reducer, permite  persistir los datos en el localstorage\n\n\n  const [todos, dispatch] = useReducer(todoReducer, initialState, init); //cada vez que cambie se almacena y persiste datos en el localstorage\n\n  useEffect(() => {\n    localStorage.setItem('todos', JSON.stringify(todos));\n  }, [todos]);\n\n  const handleNewTodo = todo => {\n    const action = {\n      type: 'Add todo',\n      payload: todo\n    }; // es la funcion a través de la que envio el action \n\n    dispatch(action);\n  };\n\n  const handleDeleteTodo = id => {\n    dispatch({\n      type: 'Remove todo',\n      payload: id\n    });\n  };\n\n  const handleToggleTodo = id => {\n    dispatch({\n      type: 'Toggle todo',\n      payload: id\n    });\n  };\n\n  const pendingTodosCount = () => {\n    return todos.filter(todo => !todo.done).length;\n  };\n\n  return { ...todos,\n    todos,\n    handleNewTodo,\n    handleDeleteTodo,\n    handleToggleTodo,\n    todosCount: todos.length,\n    pendingTodosCount: todos.filter(todo => !todo.done).length\n  };\n};\n\n_s(useTodos, \"cdsyiAVrYo/N3RsJvOC+vqyatpA=\");","map":{"version":3,"names":["useEffect","useReducer","todoReducer","useTodos","initialState","init","JSON","parse","localStorage","getItem","todos","dispatch","setItem","stringify","handleNewTodo","todo","action","type","payload","handleDeleteTodo","id","handleToggleTodo","pendingTodosCount","filter","done","length","todosCount"],"sources":["/home/carolina/Documents/doc_caro/Udemy/React-ejercicios/hookapp/src/hooks/useTodos.jsx"],"sourcesContent":["import { useEffect, useReducer } from \"react\"\nimport { todoReducer } from \"../08useReducer/todoReducer\"\n\nexport const useTodos = ( initialState ) => {\n  \n\n    const init =()=>{\n        return JSON.parse( localStorage.getItem('todos') || [])\n    }\n    \n    //si solo hay un reducer se pude dejar solo dispatch, si tengo mas de uno le coloco un nombre representartivo todoDispacth\n    //la funcion init (initializer) inicializa el reducer, permite  persistir los datos en el localstorage\n    const [todos, dispatch] = useReducer( todoReducer, initialState, init)\n\n    //cada vez que cambie se almacena y persiste datos en el localstorage\n    useEffect(() => {\n    \n        localStorage.setItem('todos', JSON.stringify(todos))\n\n    }, [todos])\n\n\n    const handleNewTodo = (todo)=>{\n        \n        const action = {\n            type: 'Add todo',\n            payload: todo\n        }\n        // es la funcion a través de la que envio el action \n        dispatch(action);\n    }\n\n    const handleDeleteTodo = (id)=>{\n\n        dispatch({\n            type: 'Remove todo',\n            payload: id\n        });\n    }\n\n\n    const handleToggleTodo = (id)=>{\n        \n        dispatch({\n            type: 'Toggle todo',\n            payload: id\n        });\n    }\n    \n    const pendingTodosCount = ()=>{\n\n        return todos.filter(todo=>!todo.done).length\n    }\n\n    return {\n        ...todos,\n        todos,\n        handleNewTodo,\n        handleDeleteTodo,\n        handleToggleTodo,\n        todosCount : todos.length,\n        pendingTodosCount: todos.filter(todo=>!todo.done).length\n    }\n\n}\n"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,UAApB,QAAsC,OAAtC;AACA,SAASC,WAAT,QAA4B,6BAA5B;AAEA,OAAO,MAAMC,QAAQ,GAAKC,YAAF,IAAoB;EAAA;;EAGxC,MAAMC,IAAI,GAAE,MAAI;IACZ,OAAOC,IAAI,CAACC,KAAL,CAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,EAA7C,CAAP;EACH,CAFD,CAHwC,CAOxC;EACA;;;EACA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBV,UAAU,CAAEC,WAAF,EAAeE,YAAf,EAA6BC,IAA7B,CAApC,CATwC,CAWxC;;EACAL,SAAS,CAAC,MAAM;IAEZQ,YAAY,CAACI,OAAb,CAAqB,OAArB,EAA8BN,IAAI,CAACO,SAAL,CAAeH,KAAf,CAA9B;EAEH,CAJQ,EAIN,CAACA,KAAD,CAJM,CAAT;;EAOA,MAAMI,aAAa,GAAIC,IAAD,IAAQ;IAE1B,MAAMC,MAAM,GAAG;MACXC,IAAI,EAAE,UADK;MAEXC,OAAO,EAAEH;IAFE,CAAf,CAF0B,CAM1B;;IACAJ,QAAQ,CAACK,MAAD,CAAR;EACH,CARD;;EAUA,MAAMG,gBAAgB,GAAIC,EAAD,IAAM;IAE3BT,QAAQ,CAAC;MACLM,IAAI,EAAE,aADD;MAELC,OAAO,EAAEE;IAFJ,CAAD,CAAR;EAIH,CAND;;EASA,MAAMC,gBAAgB,GAAID,EAAD,IAAM;IAE3BT,QAAQ,CAAC;MACLM,IAAI,EAAE,aADD;MAELC,OAAO,EAAEE;IAFJ,CAAD,CAAR;EAIH,CAND;;EAQA,MAAME,iBAAiB,GAAG,MAAI;IAE1B,OAAOZ,KAAK,CAACa,MAAN,CAAaR,IAAI,IAAE,CAACA,IAAI,CAACS,IAAzB,EAA+BC,MAAtC;EACH,CAHD;;EAKA,OAAO,EACH,GAAGf,KADA;IAEHA,KAFG;IAGHI,aAHG;IAIHK,gBAJG;IAKHE,gBALG;IAMHK,UAAU,EAAGhB,KAAK,CAACe,MANhB;IAOHH,iBAAiB,EAAEZ,KAAK,CAACa,MAAN,CAAaR,IAAI,IAAE,CAACA,IAAI,CAACS,IAAzB,EAA+BC;EAP/C,CAAP;AAUH,CA7DM;;GAAMtB,Q"},"metadata":{},"sourceType":"module"}